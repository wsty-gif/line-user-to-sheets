"use strict";exports.id=135,exports.ids=[135],exports.modules={135:(e,s,t)=>{t.d(s,{R:()=>getUsers,c:()=>updateUserRole});var a=t(9993);async function getUsers(){let e=JSON.parse(process.env.GOOGLE_CREDENTIALS),s=new a.google.auth.GoogleAuth({credentials:e,scopes:["https://www.googleapis.com/auth/spreadsheets"]}),t=a.google.sheets({version:"v4",auth:s}),o=await t.spreadsheets.values.get({spreadsheetId:process.env.SPREADSHEET_ID,range:"Sheet1!A2:G"}),r=o.data.values||[];return r.map(e=>({botName:e[1]||"",userId:e[2]||"",name:e[3]||"",role:e[5]||""}))}async function updateUserRole(e,s){let t=await getUsers(),o=t.findIndex(s=>s.userId===e);if(o<0)return!1;let r=a.google.sheets({version:"v4",auth:new a.google.auth.GoogleAuth({credentials:JSON.parse(process.env.GOOGLE_CREDENTIALS),scopes:["https://www.googleapis.com/auth/spreadsheets"]})});return await r.spreadsheets.values.update({spreadsheetId:process.env.SPREADSHEET_ID,range:`Sheet1!F${o+2}`,valueInputOption:"USER_ENTERED",requestBody:{values:[[s]]}}),!0}}};